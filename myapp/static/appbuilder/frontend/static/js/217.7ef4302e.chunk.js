"use strict";(self.webpackChunkkubeflow_frontend=self.webpackChunkkubeflow_frontend||[]).push([[217],{54189:function(e,n,t){t.d(n,{Z:function(){return d}});var a=t(1413),r=t(29439),i=t(4519),c=t(1631),l=t(93849),o=t(81748),s=t(2556),u={height:300};function d(e){var n=(0,i.useState)(),t=(0,r.Z)(n,2),d=t[0],f=t[1],m=Math.random().toString(36).substring(2),p=(0,o.$G)(),h=p.t,x=(p.i18n,{});return(0,i.useEffect)((function(){var n=document.getElementById(m);if(n){var t=c.S1(n);t.setOption((0,a.Z)((0,a.Z)({},x),e.option)),d||f(t)}}),[e.option,e.data]),(0,s.jsx)(l.Z,{spinning:e.loading,children:(0,s.jsxs)("div",{className:"chart-container",children:[(0,s.jsx)("div",{id:m,style:(0,a.Z)((0,a.Z)({},u),e.style)}),e.isNoData?(0,s.jsx)("div",{className:"chart-nodata",children:(0,s.jsx)("div",{children:h("\u6682\u65e0\u6570\u636e")})}):null]})})}},6857:function(e,n,t){t.d(n,{Z:function(){return o}});var a=t(29439),r=t(7517),i=t(10007),c=t(4519),l=t(2556);function o(e){var n,t=Math.random().toString(36).substring(2),o=(0,c.useState)(e.options||[]),s=(0,a.Z)(o,2),u=s[0],d=s[1],f=(0,c.useState)(e.value||""),m=(0,a.Z)(f,2),p=m[0],h=m[1];(0,c.useEffect)((function(){var n=e.isOpenSearchMatch?(e.options||[]).filter((function(e){return-1!==e.indexOf(p)})):e.options||[];d(n)}),[e.options]),(0,c.useEffect)((function(){h(e.value||"")}),[e.value]);var x=function(n){h(n),e.onChange&&e.onChange(n)},Z=function(e){var n=p,t=e.indexOf(p);if(-1===t)return(0,l.jsx)("span",{children:e});var a=e.substring(0,t),r=e.substring(t+p.length);return(0,l.jsxs)("span",{children:[a,(0,l.jsx)("span",{className:"highlight",children:n}),r]})},v=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){e&&e.apply(null,[].concat(r))}),t)}}(e.onScrollButtom);return(0,l.jsxs)("div",{className:"select-down-modern",children:[e.labelName?(0,l.jsx)("label",{htmlFor:t,className:"pb4 mb0 fs12 d-b",children:e.labelName}):null,(0,l.jsxs)("div",{className:"p-r d-f ac",style:{width:e.width||"100%"},children:[(0,l.jsx)(i.Z,{style:{width:"100%"},disabled:e.disabled,id:t,placeholder:e.placeholder||"",maxLength:e.maxLength||200,onChange:function(e){return x(e.target.value)},onKeyPress:function(t){13===t.nativeEvent.keyCode&&(n.blur&&n.blur(),e.onSearch&&e.onSearch(t.currentTarget.value))},value:p,ref:function(e){return n=e}}),(0,l.jsx)(r.Z,{className:"p-a r0 mr8"})]}),u.length?(0,l.jsxs)("ul",{className:"select-option shadow",onScroll:function(n){n.stopPropagation();var t=n.currentTarget,a=t.scrollTop,r=t.clientHeight;t.scrollHeight-r-a<20&&e.onScrollButtom&&v()},style:{maxHeight:"".concat(e.maxHeight,"px")},children:[e.loading?(0,l.jsx)("div",{className:"p-s z9 ta-r",style:{right:"".concat(0,"px"),top:"".concat(0,"px")},children:(0,l.jsx)("div",{className:"d-il p-a",style:{right:"".concat(8,"px"),top:"".concat(0,"px")}})}):null,u.map((function(n,t){return(0,l.jsx)("li",{className:"ellip1",onMouseDown:function(){return function(n){x(n),e.onClick&&e.onClick(n)}(n)},children:Z(n)},t)}))]}):null]})}},76877:function(e,n,t){t.d(n,{Z:function(){return k}});var a=t(93433),r=t(29439),i=t(1413),c=t(45987),l=t(4519),o=t(35492),s=t(20011),u=t(79551),d=t(28532),f=t(12513),m=t(80211),p=t(10089),h=t(2704),x=t(25738),Z=t(1126),v=t.p+"static/media/emptyBg.15fdf5f39309784ac66e.png",j=t(74308),_=t(81748),g=t(2556),y=["onResize","width"],b=t(17972),S=function(e){var n=e.onResize,t=e.width,a=(0,c.Z)(e,y);return t?(0,g.jsx)(j.Resizable,{width:t,height:0,handle:(0,g.jsx)("span",{className:"react-resizable-handle",onClick:function(e){e.stopPropagation()}}),onResize:n,draggableOpts:{enableUserSelectHack:!1},children:(0,g.jsx)("th",(0,i.Z)((0,i.Z)({},a),{},{style:(0,i.Z)((0,i.Z)({},null===a||void 0===a?void 0:a.style),{},{userSelect:"none"})}))}):(0,g.jsx)("th",(0,i.Z)({},a))},k=function(e){var n=(0,l.useState)(!1),t=(0,r.Z)(n,2),c=t[0],j=t[1],y=(0,l.useState)({header:[],data:[]}),k=(0,r.Z)(y,2),w=k[0],C=k[1],N=(0,l.useState)([]),O=(0,r.Z)(N,2),I=O[0],P=O[1],E=(0,l.useState)(e.columns),M=(0,r.Z)(E,2),T=M[0],L=M[1],R=function(n){return function(t,r){var c=r.size;if(!(c.width<100)){var l=(0,a.Z)(T);l[n]=(0,i.Z)((0,i.Z)({},l[n]),{},{width:c.width});var o=l.reduce((function(e,n){return e+n.width||100}),0)+200;localStorage.setItem(e.tableKey||"",JSON.stringify(l)),A((0,i.Z)((0,i.Z)({},V),{},{x:o})),L(l)}}},F=T.map((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},{width:e.width||200,onHeaderCell:function(e){return{width:e.width,onResize:R(n)}}})})),D=(0,l.useState)(e.scroll),H=(0,r.Z)(D,2),V=H[0],A=H[1],z=(0,_.$G)(),U=z.t;z.i18n;(0,l.useEffect)((function(){L(e.columns)}),[e.columns]),(0,l.useEffect)((function(){A(e.scroll)}),[e.scroll]),(0,l.useEffect)((function(){if(e.dataSource){var n=e.columns.filter((function(e){return~I.indexOf(e.dataIndex)}));B(n,e.dataSource)}}),[e.dataSource,e.columns]);var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t=e.map((function(e){return e.dataIndex})).filter((function(e){return"handle"!==e})),a=e.map((function(e){return e.title})).filter((function(e){return e!==U("\u64cd\u4f5c")})),r=[];n.forEach((function(e){var n={};t.map((function(t){var a=e[t];n[t]=a||""})),r.push(n)})),C({header:a,data:r})},K=function(){var e=w.header,n=w.data,t="";return e.length&&n.length?(t="|"+e.join("|")+"|\n",n.forEach((function(e){var n=Object.values(e).map((function(e){return""===e?" ":e}));t=t+"|"+n.join("|")+"|\n"}))):t="",t},q=function(){var e=w.header,n=w.data,t="";return e.length&&n.length?(t=e.join("\t")+"\n",n.forEach((function(e){var n=Object.values(e).map((function(e){return""===e?" ":e}));t=t+n.join("\t")+"\n"}))):t="",t};return(0,g.jsxs)(s.Z,{className:"tablebox",direction:"vertical",size:"middle",children:[(0,g.jsxs)(u.Z,{width:1e3,maskClosable:!1,centered:!0,bodyStyle:{maxHeight:500,overflow:"auto"},visible:c,title:U("\u5bfc\u51fa\u6570\u636e"),onCancel:function(){j(!1)},footer:null,children:[(0,g.jsxs)("div",{style:{position:"relative"},children:[(0,g.jsxs)("div",{className:"mb16",children:[(0,g.jsxs)("span",{className:"pr8",children:[U("\u9009\u62e9\u9700\u8981\u5bfc\u51fa\u7684\u5217"),"\uff1a"]}),(0,g.jsx)(d.Z.Group,{options:e.columns.map((function(e){return{label:e.title,value:e.dataIndex}})).filter((function(e){return"handle"!==e.value})),defaultValue:[],value:I,onChange:function(n){P(n);var t=e.columns.filter((function(e){return~n.indexOf(e.dataIndex)}));B(t,e.dataSource)}})]}),(0,g.jsxs)("div",{style:{position:"absolute",right:0,bottom:0},children:[(0,g.jsx)(f.Z,{size:"small",type:"link",onClick:function(){P(e.columns.map((function(e){return e.dataIndex})).filter((function(e){return"handle"!==e}))),B(e.columns,e.dataSource)},children:U("\u5168\u9009")}),(0,g.jsx)(f.Z,{size:"small",type:"link",onClick:function(){P([]),B([],e.dataSource)},children:U("\u53cd\u9009")})]})]}),(0,g.jsxs)(m.Z,{children:[(0,g.jsx)(m.Z.TabPane,{tab:"Wiki\u683c\u5f0f",children:(0,g.jsx)(b,{text:K(),onCopy:function(){return p.ZP.success(U("\u5df2\u590d\u5236\u5230\u7c98\u8d34\u677f"))},children:(0,g.jsx)("pre",{style:{cursor:"pointer",minHeight:100},children:(0,g.jsx)("code",{children:K()})})})},"jira"),(0,g.jsx)(m.Z.TabPane,{tab:"Text\u683c\u5f0f",children:(0,g.jsx)(b,{text:q(),onCopy:function(){return p.ZP.success(U("\u5df2\u590d\u5236\u5230\u7c98\u8d34\u677f"))},children:(0,g.jsx)("pre",{style:{cursor:"pointer",minHeight:100},children:(0,g.jsx)("code",{children:q()})})})},"test")]})]}),e.titleNode||e.buttonNode||!e.cancelExportData?(0,g.jsxs)(o.Z,{justify:"space-between",align:"middle",children:[(0,g.jsx)(h.Z,{children:(0,g.jsx)(s.Z,{align:"center",children:e.titleNode})}),(0,g.jsx)(h.Z,{children:(0,g.jsxs)(s.Z,{align:"center",children:[e.buttonNode,e.cancelExportData?null:(0,g.jsx)(f.Z,{style:{marginLeft:6},onClick:function(){return j(!0)},children:U("\u5bfc\u51fa\u6570\u636e")})]})})]}):null,(0,g.jsx)(x.ZP,{renderEmpty:function(){return(0,g.jsxs)(o.Z,{justify:"center",align:"middle",style:{height:360,flexDirection:"column"},children:[(0,g.jsx)("img",{src:v,style:{width:266},alt:""}),(0,g.jsx)("div",{children:U("\u6682\u65e0\u6570\u636e")})]})},children:(0,g.jsx)(Z.Z,{size:e.size||"middle",rowKey:e.rowKey?e.rowKey:"id",dataSource:e.dataSource,components:{header:{cell:S}},columns:F,pagination:!1!==e.pagination&&(0,i.Z)({},e.pagination),scroll:V,loading:e.loading,onChange:e.onChange,rowSelection:e.rowSelection})})]})}},85208:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ze}});var a=t(93433),r=t(4942),i=t(1413),c=t(29439),l=t(4519),o=t(10388),s=t(20011),u=t(42496),d=t(34519),f=t(79551),m=t(10089),p=t(1449),h=t(93849),x=t(35492),Z=t(2704),v=t(12513),j=t(86457),_=t(1140),g=t(82085),y=t(37167),b=t(72577),S=t(2556),k=b.Z.Title,w=function(e){var n={position:"sticky",top:0};return(0,S.jsxs)(x.Z,{className:"title-header",justify:"space-between",align:"middle",style:e.noBorderBottom?(0,i.Z)({borderBottom:"none"},n):n,children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(k,{className:"d-il mr12",level:5,style:{marginBottom:10},children:e.title}),(0,S.jsx)("div",{className:"d-il",children:e.breadcrumbs})]}),(0,S.jsx)(Z.Z,{children:(0,S.jsx)(s.Z,{children:e.children?e.children:null})})]})},C=t(76877),N=t(43077),O=t.n(N),I=t(42335),P=t(33405),E=t(17669),M=t(33531),T=t(56713),L=t(20558),R=t(8718),F=t(48633),D=t(85351),H=t(16548),V=t(8230),A=t(81748),z=function(e){var n=(0,A.$G)(),t=n.t,a=(n.i18n,V.Z.useForm()),r=(0,c.Z)(a,1)[0],i=(0,l.useState)(),o=(0,c.Z)(i,2)[1];l.useCallback((function(){return o({})}),[]);(0,l.useEffect)((function(){e.formData&&r.setFieldsValue(e.formData)}),[e]);var s=(0,l.useState)({currentChange:{},allValues:{}}),u=(0,c.Z)(s,2),d=u[0],m=u[1];return(0,S.jsx)(f.Z,{destroyOnClose:!0,maskClosable:!1,width:e.width||680,visible:e.visible,title:e.title,okText:t("\u786e\u5b9a"),cancelText:t("\u53d6\u6d88"),onCancel:function(){r.resetFields(),e.onCancel()},onOk:function(){console.log(r.getFieldsValue()),r.validateFields().then((function(n){e.onCreate(n,r)})).catch((function(e){}))},children:(0,S.jsx)(h.Z,{spinning:e.loading,children:(0,S.jsx)(V.Z,{onValuesChange:function(e,n){m({currentChange:e,allValues:n})},labelCol:{span:5},wrapperCol:{span:19},form:r,layout:"horizontal",name:"form_in_modal",children:e.children&&"[object Function]"===Object.prototype.toString.call(e.children)?e.children(r,d):e.children})})})},U=t(30506),B=t(74165),K=t(15861),q=t(51222),J=t(10007),W=t(28501),G=t(74030),$=q.Z.Option,Q=function(e){var n=V.Z.useForm(),t=(0,c.Z)(n,1)[0],r=(0,l.useState)(!1),o=(0,c.Z)(r,2),s=o[0],u=o[1],d=(0,l.useState)([]),f=(0,c.Z)(d,2),m=(f[0],f[1],function(e){return(e||[]).map((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},{indexKey:n})}))}),p=(0,l.useState)(m(e.params)),h=(0,c.Z)(p,2),j=h[0],_=h[1],g=(0,l.useState)(m(e.params)),y=(0,c.Z)(g,2),b=y[0],k=y[1],w=(0,l.useState)(new Map),C=(0,c.Z)(w,2),N=C[0],O=C[1],I=(0,A.$G)(),P=I.t;I.i18n;(0,l.useEffect)((function(){if(e.values){var n=e.values.length?e.values:[{key:void 0,value:void 0}];t.setFieldsValue({group:n});for(var r=(0,a.Z)(b),i=0;i<r.length;i++)for(var c=0;c<n.length;c++){void 0!==n[c]&&n[c].key===r[i].name&&(r[i].used=!0)}k(r)}}),[e.values]),(0,l.useEffect)((function(){if(e.params&&e.params.length){var n=m(e.params);_(n);for(var t=N,a=0;a<n.length;a++){var r=n[a];t.set(r.name,r)}O(t)}}),[e.params]);var M=function(){var n=(0,K.Z)((0,B.Z)().mark((function n(t){var a,r;return(0,B.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(t),a=t.group.filter((function(e){return!!e.key})),r=a.map((function(e){return{key:e.key,value:e.value}})),e.onChange(r);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),T=function(e){var n=t.getFieldValue(["group",e,"key"]);if(!n)return(0,S.jsx)(J.Z,{style:{width:"65%"},onPressEnter:function(){return R()}});var a=N.get(n);if("input"===(null===a||void 0===a?void 0:a.type))return(0,S.jsx)(J.Z,{style:{width:"65%"},defaultValue:a.defalutValue,placeholder:a.placeHolder,onPressEnter:function(){return R()}});if("select"===(null===a||void 0===a?void 0:a.type)){var r=(null===a||void 0===a?void 0:a.option)||[];return(0,S.jsx)(q.Z,{style:{width:"65%"},dropdownMatchSelectWidth:500,showSearch:!0,mode:"label"===n?"multiple":void 0,optionFilterProp:"label",options:r.map((function(e){return{label:e.label,value:e.value}}))})}},R=function(){t.validateFields()};return(0,S.jsxs)(V.Z,{className:"cmdb-mixsearch bg-title",form:t,onFinish:M,initialValues:{group:[{key:void 0,value:void 0}]},children:[(0,S.jsxs)(x.Z,{className:"cmdb-mixsearch-content",gutter:16,style:(0,i.Z)({marginLeft:0,marginRight:0},s?{height:70}:{height:"auto"}),children:[(0,S.jsx)(V.Z.List,{name:"group",children:function(e,n){var r=n.add,i=n.remove;return(0,S.jsxs)(S.Fragment,{children:[e.map((function(e,n){return(0,S.jsx)(Z.Z,{span:8,children:(0,S.jsxs)(x.Z,{align:"middle",gutter:8,children:[(0,S.jsx)(Z.Z,{className:"cmdb-mixsearch-group",children:(0,S.jsxs)(J.Z.Group,{compact:!0,children:[(0,S.jsx)(V.Z.Item,{noStyle:!0,name:[e.name,"key"],rules:[{required:!1,message:P("\u8bf7\u9009\u62e9key")}],children:(0,S.jsx)(q.Z,{style:{width:"35%"},placeholder:P("\u8bf7\u9009\u62e9"),onChange:function(e){!function(e){for(var n=(0,a.Z)(b),r=(t.getFieldValue("group")||[]).filter((function(e){return!!e})).map((function(e){return e.key})),i=0;i<n.length;i++){var c=n[i];c.name===e?n[i].used=!0:r.includes(c.name)||(n[i].used=!1)}k(n)}(e)},children:b.map((function(e,n){return(0,S.jsx)($,{style:{display:e.used?"none":"inherit"},value:e.name,children:e.title||e.name},"mixSearch_".concat(e.name,"_").concat(n))}))})}),(0,S.jsx)(V.Z.Item,{noStyle:!0,shouldUpdate:!0,name:[e.name,"value"],rules:[{required:!1,message:P("\u8bf7\u586b\u5199value")}],children:T(n)})]})}),(0,S.jsx)(Z.Z,{className:"cmdb-mixsearch-delete",onClick:function(){var e=(t.getFieldValue("group")||[]).map((function(e){return e?e.key:void 0})),r=(0,a.Z)(b);if(e[n])for(var c=0;c<r.length;c++){r[c].name===e[n]&&(r[c].used=!1)}k(r),i(n)},children:(0,S.jsx)(W.Z,{})})]})},"mixSearch_".concat(e.key,"_").concat(n))})),j.length!==e.length&&(0,S.jsx)(Z.Z,{className:"cmdb-mixsearch-add d-il",onClick:function(){r()},children:(0,S.jsx)(L.Z,{})})]})}}),(0,S.jsx)(Z.Z,{flex:1,children:(0,S.jsx)(x.Z,{justify:"end",children:(0,S.jsx)(v.Z,{type:"primary",htmlType:"submit",children:P("\u67e5\u8be2")})})})]}),(0,S.jsx)(x.Z,{className:"cmdb-mixsearch-collapsed",children:(0,S.jsx)(x.Z,{onClick:function(){u(!s)},justify:"center",align:"middle",children:s?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Z.Z,{children:P("\u5c55\u5f00")}),(0,S.jsx)(Z.Z,{children:(0,S.jsx)(E.Z,{})})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Z.Z,{children:P("\u6536\u8d77")}),(0,S.jsx)(Z.Z,{children:(0,S.jsx)(G.Z,{})})]})})})]})},X=t(45987),Y=t(97709),ee=t(73031),ne=t(69994),te=t(68553),ae=t(75262),re=t(65505),ie=t(74860),ce=t(6857),le=(t(90746),t(32085)),oe=t(3571),se=t(22914),ue=t(78602),de=t(96903);function fe(e){var n=(0,l.useState)(!1),t=(0,c.Z)(n,2),r=(t[0],t[1],(0,l.useState)(!1)),i=(0,c.Z)(r,2),o=(i[0],i[1]),s=(0,l.useState)(""),u=(0,c.Z)(s,2),d=(u[0],u[1],(0,l.useState)([])),f=(0,c.Z)(d,2),p=(f[0],f[1],(0,l.useState)(!0)),h=(0,c.Z)(p,2),x=(h[0],h[1],(0,l.useState)([])),Z=(0,c.Z)(x,2),v=Z[0],j=Z[1];var _=function(n,t,r){var i=function(e){var n=null;return void 0!=window.createObjectURL?n=window.createObjectURL(e):void 0!=window.URL?n=window.URL.createObjectURL(e):void 0!=window.webkitURL&&(n=window.webkitURL.createObjectURL(e)),n}(n),c=Math.random().toString(36).substring(2);return"video"===r?(0,S.jsxs)("div",{className:"p-r",children:[(0,S.jsx)("span",{onClick:function(){var n=(0,a.Z)(v);n.splice(t,1),j(n),e.onChange&&e.onChange(n)},className:"d-il p-a plr8 ptb2 bg-fail",style:{top:0,right:0,borderBottomLeftRadius:6,zIndex:9},children:(0,S.jsx)(W.Z,{style:{color:"#fff"}})}),(0,S.jsx)("video",{className:"w100 mb8",src:i,controls:!0})]},c):"audio"===r?(0,S.jsxs)("div",{className:"d-f ac mb8",children:[(0,S.jsx)("audio",{className:"w100 flex1",src:i,controls:!0}),(0,S.jsx)("span",{onClick:function(){var n=(0,a.Z)(v);n.splice(t,1),j(n),e.onChange&&e.onChange(n)},className:"d-il plr8 ptb2 bg-fail",style:{borderRadius:6},children:(0,S.jsx)(W.Z,{style:{color:"#fff"}})})]},c):n};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{children:v.map((function(n,t){return _(n,t,e.filetype||"file")}))}),(0,S.jsxs)(de.Z.Dragger,{fileList:v,showUploadList:!1,customRequest:function(n){console.log("options.file",n.file);var t=[].concat((0,a.Z)(v),[n.file]);console.log("tarList",t),j(t),Promise.all(t.map((function(e){return n=e,console.log("file2Bin",n),new Promise((function(e,t){if(n){n.name.replace(/.+\./,""),n.name;var a=new FileReader;a.readAsDataURL(n),a.onload=function(){e(a.result)}}else t(void 0)}));var n}))).then((function(n){console.log(n),e.onChange&&e.onChange(n)}))},beforeUpload:function(n){var t,a=e.maxCount||1;if(v.length>=a)return m.ZP.error("\u8d85\u51fa\u6587\u4ef6\u6570\u91cf\u9650\u5236"),!1;var r=null===(t=e.format)||void 0===t?void 0:t.includes(n.type);r||m.ZP.error("\u6587\u4ef6\u683c\u5f0f\u9519\u8bef");var i=n.size<(e.maxSize||2097152);return i||m.ZP.error("\u6587\u4ef6\u5927\u5c0f\u9650\u5236"),r&&i},onChange:function(n){if(console.log(n),"uploading"!==n.file.status)return"done"===n.file.status&&(o(!1),j(n.fileList),e.onChange&&e.onChange(n.fileList)),"removed"===n.file.status?(j(n.fileList),void(e.onChange&&e.onChange(n.fileList))):void 0;o(!0)},children:[(0,S.jsxs)("p",{className:"ant-upload-drag-icon",children:["file"!==e.filetype&&e.filetype?null:(0,S.jsx)(oe.Z,{}),"video"===e.filetype?(0,S.jsx)(se.Z,{}):null,"audio"===e.filetype?(0,S.jsx)(ue.Z,{}):null]}),(0,S.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u62d6\u62fd\u6587\u4ef6\u4e0a\u4f20"})]})]})}var me=["key","name"];function pe(e){return e.reduce((function(e,n){return e+(n||"").split("").reduce((function(e,n){return e+n.charCodeAt(0)}),0)}),0)}function he(e){var n=e.dataOptions,t=(0,A.$G)(),s=t.t,u=(t.i18n,(0,l.useState)(0)),d=(0,c.Z)(u,2),f=d[0],m=d[1],p=(0,l.useState)(e.config),h=(0,c.Z)(p,2),x=h[0],Z=h[1],j=(0,l.useRef)(e.config),_=function(e){j.current=e,Z(e)},g=(0,l.useState)(e.configGroup),y=(0,c.Z)(g,2),b=y[0],k=y[1],w=(0,l.useRef)(e.configGroup),C=function(e){w.current=e,k(e)},N=function(n,t){var c=function(n,t){return t.filter((function(e){return e.dep.includes(n)})).map((function(n){var t=pe(n.dep.map((function(n){var t;return null===(t=e.form)||void 0===t?void 0:t.getFieldValue(n)})).filter((function(e){return!(void 0===e||null===e)})));return{effect:n.effect,option:n.effectOption[t]||[]}}))}(n,t);c.forEach((function(n){var t;null===(t=e.form)||void 0===t||t.setFieldsValue((0,r.Z)({},n.effect,void 0)),function(e,n){var t=j.current?(0,a.Z)(j.current):[];if(t)for(var r=0;r<t.length;r++){var c=t[r];c.name===e&&(t[r]=(0,i.Z)((0,i.Z)({},c),n))}_(t)}(n.effect,{options:n.option}),function(e,n){for(var t=w.current?(0,a.Z)(w.current):[],r=0;r<t.length;r++){for(var c=(0,a.Z)(t[r].config),l=0;l<c.length;l++){var o=c[l];o.name===e&&(c[l]=(0,i.Z)((0,i.Z)({},o),n))}t[r]=(0,i.Z)((0,i.Z)({},t[r]),{},{config:c})}C(t)}(n.effect,{options:n.option})}))};(0,l.useEffect)((function(){if(e.formChangeRes&&e.linkageConfig){var n=e.formChangeRes.currentChange;N(Object.keys(n)[0],e.linkageConfig)}}),[e.formChangeRes]),(0,l.useEffect)((function(){var n;_(e.config),C(e.configGroup);var t=(null===(n=e.form)||void 0===n?void 0:n.getFieldsValue())||{};Object.entries(t).forEach((function(n){var t=(0,c.Z)(n,2),a=t[0];void 0!==t[1]&&N(a,e.linkageConfig||[])}))}),[e.configGroup,e.config,n]);var I=function(){m(f+1)},P=function(e,n){return(0,S.jsx)(V.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:e.rules,initialValue:e.defaultValue,extra:(0,S.jsxs)(S.Fragment,{children:[e.data.tips?(0,S.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,S.jsxs)("div",{className:"cp d-il",children:[(0,S.jsx)(T.Z,{style:{color:"#1672fa"}}),(0,S.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,S.jsx)(J.Z,{disabled:e.disable,placeholder:e.placeHolder||"".concat(s("\u8bf7\u9009\u62e9")).concat(e.label)})}),"dynamicForm_".concat(e.name))},E=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case"input":case"match-input":return P(n,t);case"input-select":return function(n,t){var a=(n.options||[]).map((function(e){return e.label}));return(0,S.jsx)(V.Z.Item,(0,i.Z)((0,i.Z)({label:n.label,name:n.name,rules:n.rules,initialValue:n.defaultValue,extra:(0,S.jsxs)(S.Fragment,{children:[n.data.tips?(0,S.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:n.data.tips}}),children:(0,S.jsxs)("div",{className:"cp d-il",children:[(0,S.jsx)(T.Z,{style:{color:"#1672fa"}}),(0,S.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,n.description?(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:n.description}}):null]})},t),{},{children:(0,S.jsx)(ce.Z,{onClick:function(t){n.data.retry_info&&e.onRetryInfoChange&&e.onRetryInfoChange(t)},isOpenSearchMatch:!0,disabled:n.disable,placeholder:"".concat(s("\u8bf7\u9009\u62e9")).concat(n.label),options:a})}),"dynamicForm_".concat(n.name))}(n,t);case"cascader":return function(e,n){var t=e.options||[];return console.log(t),(0,S.jsx)(V.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:e.rules,initialValue:e.defaultValue,extra:(0,S.jsxs)(S.Fragment,{children:[e.data.tips?(0,S.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,S.jsxs)("div",{className:"cp d-il",children:[(0,S.jsx)(T.Z,{style:{color:"#1672fa"}}),(0,S.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,S.jsx)(ne.Z,{placeholder:"select",options:t})}),"dynamicForm_".concat(e.name))}(n,t);case"textArea":return function(e,n){return(0,S.jsx)(V.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:e.rules,initialValue:e.defaultValue,extra:(0,S.jsxs)(S.Fragment,{children:[e.data.tips?(0,S.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,S.jsxs)("div",{className:"cp d-il",children:[(0,S.jsx)(T.Z,{style:{color:"#1672fa"}}),(0,S.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,S.jsx)(J.Z.TextArea,{autoSize:{minRows:4},disabled:e.disable,placeholder:e.placeHolder||"".concat(s("\u8bf7\u9009\u62e9")).concat(e.label)})}),"dynamicForm_".concat(e.name))}(n,t);case"select":return function(n,t){var a=n.options||[];return(0,S.jsx)(V.Z.Item,(0,i.Z)((0,i.Z)({label:n.label,name:n.name,rules:n.rules,initialValue:n.defaultValue,extra:(0,S.jsxs)(S.Fragment,{children:[n.data.tips?(0,S.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:n.data.tips}}),children:(0,S.jsxs)("div",{className:"cp d-il",children:[(0,S.jsx)(T.Z,{style:{color:"#1672fa"}}),(0,S.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,n.description?(0,S.jsx)("span",{className:"pr4",dangerouslySetInnerHTML:{__html:n.description}}):null,n.data.isRefresh?(0,S.jsxs)("div",{className:"cp d-il",onClick:function(){e.onRetryInfoChange&&e.onRetryInfoChange()},children:[(0,S.jsx)(re.Z,{style:{color:"#1672fa"}}),(0,S.jsx)("span",{className:"pl4 c-theme",children:s("\u5237\u65b0\u5217\u8868")})]}):null]})},t),{},{children:(0,S.jsx)(ae.Z,{style:{width:"100%"},mode:n.multiple?"multiple":void 0,onChange:function(t){n.data.retry_info&&e.onRetryInfoChange&&e.onRetryInfoChange(t)},showSearch:!0,disabled:n.disable,optionFilterProp:"label",placeholder:n.placeHolder||"".concat(s("\u8bf7\u9009\u62e9")).concat(n.label),options:a})}),"dynamicForm_".concat(n.name))}(n,t);case"datePicker":return function(e,n){return(0,S.jsx)(V.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:[{required:!0,message:s("\u8bf7\u9009\u62e9\u65f6\u95f4")}],extra:(0,S.jsxs)(S.Fragment,{children:[e.data.tips?(0,S.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,S.jsxs)("div",{className:"cp d-il",children:[(0,S.jsx)(T.Z,{style:{color:"#1672fa"}}),(0,S.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,S.jsx)(ee.Z,{style:{width:"100%"},locale:le.Z,showTime:!!e.data.showTime,disabledDate:function(e){return e&&e>O()().endOf("day")}})}),"dynamicForm_".concat(e.name))}(n,t);case"rangePicker":return function(e,n){return(0,S.jsx)(V.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:[{required:!0,message:s("\u8bf7\u9009\u62e9\u65f6\u95f4\u8303\u56f4")}],extra:(0,S.jsxs)(S.Fragment,{children:[e.data.tips?(0,S.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,S.jsxs)("div",{className:"cp d-il",children:[(0,S.jsx)(T.Z,{style:{color:"#1672fa"}}),(0,S.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,S.jsx)(ee.Z,{style:{width:"100%"},locale:le.Z,showTime:!!e.data.showTime,disabledDate:function(e){return e&&e>O()().endOf("day")}})}),"dynamicForm_".concat(e.name))}(n,t);case"radio":return function(e,n){var t=e.options||[];return(0,S.jsx)(V.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:e.rules,initialValue:e.defaultValue,extra:(0,S.jsxs)(S.Fragment,{children:[e.data.tips?(0,S.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,S.jsxs)("div",{className:"cp d-il",children:[(0,S.jsx)(T.Z,{style:{color:"#1672fa"}}),(0,S.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,S.jsx)(Y.ZP.Group,{options:t})}),"dynamicForm_".concat(e.name))}(n,t);case"fileUpload":return function(e,n){return(0,S.jsx)(V.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:e.rules,initialValue:e.defaultValue,extra:e.description?(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null},n),{},{children:(0,S.jsx)(fe,{filetype:e.data.type,format:e.data.format,maxCount:e.data.maxCount||1})}),"dynamicForm_".concat(e.name))}(n,t);default:return null}},M=function(e){return(e||[]).map((function(e){return e.list&&e.list.length?(0,S.jsx)(V.Z.List,{name:e.name,children:function(n,t){var a=t.add,r=t.remove;return(0,S.jsxs)(S.Fragment,{children:[n.map((function(n){var t=n.key,a=n.name,c=(0,X.Z)(n,me);return(0,S.jsxs)("div",{className:"bor b-side pt8 plr16 mb8 d-f",style:{alignItems:"start",minWidth:1600},children:[e.list&&e.list.map((function(e){return E(e,(0,i.Z)((0,i.Z)({},c),{},{name:[a,e.name],labelAlign:"left",labelCol:24,style:{flexDirection:"column",flex:1,marginBottom:8}}))})),(0,S.jsx)(V.Z.Item,{children:(0,S.jsx)(v.Z,{danger:!0,onClick:function(){return r(a)},block:!0,icon:(0,S.jsx)(ie.Z,{}),style:{width:120},children:s("\u5220\u9664\u8be5\u9879")})})]},t)})),(0,S.jsx)(V.Z.Item,{noStyle:!0,className:"w100",label:"",children:(0,S.jsx)(v.Z,{type:"dashed",className:"w100",onClick:function(){return a()},block:!0,icon:(0,S.jsx)(L.Z,{}),children:s("\u589e\u52a0\u4e00\u9879")})})]})}},"dynamicForm_".concat(e.name)):(0,S.jsx)("div",{style:{width:680},children:E(e)})}))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(V.Z.Item,{name:e.primaryKey||"id",noStyle:!0,hidden:!0,children:(0,S.jsx)(J.Z,{})},"dynamicForm_id"),b&&b.length?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(te.Z,{current:f,children:(b||[]).map((function(e,n){return(0,S.jsx)(te.Z.Step,{title:e.group},n)}))}),(0,S.jsx)("div",{className:"pt32",children:(b||[]).map((function(e,n){return(0,S.jsx)("div",{className:[f===n?"p-r z9":"p-a z-99 v-h l-10000"].join(" "),children:M(e.config)},n)}))}),(0,S.jsxs)("div",{className:"ta-c pt32",children:[f>0&&(0,S.jsx)(v.Z,{onClick:function(){m(f-1)},children:s("\u4e0a\u4e00\u6b65")}),f<(b||[]).length-1&&(0,S.jsx)(v.Z,{type:"primary",className:"ml16",onClick:function(){if(e.form){var n=b[f].config.map((function(e){return e.name}));e.form.validateFields(n).then((function(){I()})).catch((function(e){console.log(e)}))}else I()},children:s("\u4e0b\u4e00\u6b65")}),(0,S.jsx)("div",{children:f===(b||[]).length-1&&(0,S.jsx)("div",{className:"pt8 c-hint-b",children:s("\u70b9\u51fb\u786e\u5b9a\u5b8c\u6210\u63d0\u4ea4")})})]})]}):(0,S.jsx)("div",{style:{width:680},children:M(x||[])})]})}var xe=t(4269);function Ze(e){var n=(0,D.s0)(),t=(0,D.TH)(),b=(0,l.useState)([]),k=(0,c.Z)(b,2),N=k[0],V=k[1],B=(0,l.useState)(!0),K=(0,c.Z)(B,2),q=K[0],J=K[1],W=(0,l.useState)(!1),G=(0,c.Z)(W,2),$=G[0],X=G[1],Y=(0,l.useState)("true"===(0,H.jS)("isVisableAdd")||!1),ee=(0,c.Z)(Y,2),ne=ee[0],te=ee[1],ae=(0,l.useState)(!1),re=(0,c.Z)(ae,2),ie=re[0],ce=re[1],le=(0,l.useState)(!1),oe=(0,c.Z)(le,2),se=oe[0],ue=oe[1],de=(0,l.useState)(!1),fe=(0,c.Z)(de,2),me=fe[0],Ze=fe[1],ve=(0,l.useState)(!1),je=(0,c.Z)(ve,2),_e=je[0],ge=je[1],ye=(0,l.useState)([]),be=(0,c.Z)(ye,2),Se=be[0],ke=be[1],we={current:1,pageSize:20,total:0,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:[20,50,100,500],showTotal:function(e){return"".concat(ca("\u5171")).concat(e).concat(ca("\u6761"))}},Ce=(0,l.useState)(we),Ne=(0,c.Z)(Ce,2),Oe=Ne[0],Ie=Ne[1],Pe=(0,l.useState)([]),Ee=(0,c.Z)(Pe,2),Me=Ee[0],Te=Ee[1],Le=(0,l.useState)([]),Re=(0,c.Z)(Le,2),Fe=Re[0],De=Re[1],He=(0,l.useState)([]),Ve=(0,c.Z)(He,2),Ae=Ve[0],ze=Ve[1],Ue=(0,l.useRef)(Ae),Be=function(e){Ue.current=e,ze(e)},Ke=(0,l.useState)([]),qe=(0,c.Z)(Ke,2),Je=qe[0],We=qe[1],Ge=(0,l.useState)([]),$e=(0,c.Z)(Ge,2),Qe=$e[0],Xe=$e[1],Ye=(0,l.useState)([]),en=(0,c.Z)(Ye,2),nn=en[0],tn=en[1],an=(0,l.useState)([]),rn=(0,c.Z)(an,2),cn=rn[0],ln=rn[1],on={};try{on=JSON.parse((0,H.jS)("formData")||"{}")}catch(Za){}var sn=(0,l.useState)(on),un=(0,c.Z)(sn,2),dn=un[0],fn=un[1],mn=(0,l.useState)({}),pn=(0,c.Z)(mn,2),hn=pn[0],xn=pn[1],Zn=(0,l.useState)({}),vn=(0,c.Z)(Zn,2),jn=vn[0],_n=vn[1],gn=(0,l.useRef)(jn),yn=(0,l.useState)([]),bn=(0,c.Z)(yn,2),Sn=bn[0],kn=bn[1],wn=(0,l.useState)(1e3),Cn=(0,c.Z)(wn,2),Nn=Cn[0],On=Cn[1],In=(0,l.useState)([]),Pn=(0,c.Z)(In,2),En=Pn[0],Mn=Pn[1],Tn=(0,l.useState)({}),Ln=(0,c.Z)(Tn,2),Rn=Ln[0],Fn=Ln[1],Dn=(0,l.useState)(),Hn=(0,c.Z)(Dn,2),Vn=Hn[0],An=Hn[1],zn=(0,l.useState)(),Un=(0,c.Z)(zn,2),Bn=Un[0],Kn=Un[1],qn=(0,l.useRef)(Bn),Jn=(0,l.useState)(!1),Wn=(0,c.Z)(Jn,2),Gn=Wn[0],$n=Wn[1],Qn=(0,l.useState)(!1),Xn=(0,c.Z)(Qn,2),Yn=Xn[0],et=Xn[1],nt=(0,l.useState)([]),tt=(0,c.Z)(nt,2),at=tt[0],rt=tt[1],it=(0,l.useState)([]),ct=(0,c.Z)(it,2),lt=ct[0],ot=ct[1],st=(0,l.useState)(),ut=(0,c.Z)(st,2),dt=ut[0],ft=ut[1],mt=(0,l.useState)(""),pt=(0,c.Z)(mt,2),ht=pt[0],xt=pt[1],Zt=(0,l.useState)(""),vt=(0,c.Z)(Zt,2),jt=vt[0],_t=vt[1],gt=(0,l.useState)(),yt=(0,c.Z)(gt,2),bt=yt[0],St=yt[1],kt=(0,l.useState)(),wt=(0,c.Z)(kt,2),Ct=wt[0],Nt=wt[1],Ot=(0,l.useState)([]),It=(0,c.Z)(Ot,2),Pt=It[0],Et=It[1],Mt=(0,l.useState)([]),Tt=(0,c.Z)(Mt,2),Lt=Tt[0],Rt=Tt[1],Ft=(0,l.useState)(!0),Dt=(0,c.Z)(Ft,2),Ht=Dt[0],Vt=Dt[1],At=(0,l.useRef)(Ht),zt=(0,l.useState)(!1),Ut=(0,c.Z)(zt,2),Bt=Ut[0],Kt=Ut[1],qt=(0,l.useRef)(Bt),Jt=(0,l.useState)(!1),Wt=(0,c.Z)(Jt,2),Gt=Wt[0],$t=Wt[1],Qt=(0,l.useState)(20),Xt=(0,c.Z)(Qt,2),Yt=Xt[0],ea=Xt[1],na=(0,l.useState)(),ta=(0,c.Z)(na,2),aa=ta[0],ra=ta[1],ia=(0,A.$G)(),ca=ia.t,la=(ia.i18n,(0,l.useState)("")),oa=(0,c.Z)(la,2),sa=oa[0],ua=oa[1],da={pageConf:we,params:[],paramsMap:Rn,sorter:void 0};(0,l.useEffect)((function(){}),[Yt]),(0,l.useEffect)((function(){ua((0,H.W9)())}),[]),(0,l.useEffect)((function(){e&&e.disable&&n("/404")}),[]);var fa=function e(n,t,a){return n.map((function(n,r){var c=n["ui-type"]||"input";"select2"===c&&(c="select"),"file"===c&&(c="fileUpload");var l=n.label||t[n.name],o=(n.validators||[]).map((function(e){if("select"===c)return"DataRequired"===e.type?{required:!0,message:"".concat(ca("\u8bf7\u9009\u62e9")," ").concat(l)}:void 0;switch(e.type){case"DataRequired":return{required:!0,message:"".concat(ca("\u8bf7\u8f93\u5165")," ").concat(l)};case"Regexp":return{pattern:new RegExp("".concat(e.regex)),message:"".concat(ca("\u8bf7\u6309\u6b63\u786e\u7684\u89c4\u5219\u8f93\u5165"))};case"Length":return{min:e.min||0,max:e.max,message:"".concat(ca("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u957f\u5ea6"))};default:return}})).filter((function(e){return!!e})),s=e(n.info||[],t,a);return{label:l,type:c,rules:o,list:s,name:n.name,disable:n.disable,description:n.description||a[n.name]||void 0,required:n.required,defaultValue:""===n.default?void 0:n.default,multiple:n["ui-type"]&&"select2"===n["ui-type"],options:(n.values||[]).map((function(e){return{label:e.value,value:e.id,children:e.children}})),data:(0,i.Z)({},n)}}))};(0,l.useEffect)((function(){var l=(0,H.jS)("targetId"),p=l?"/dimension_remote_table_modelview/".concat(l,"/api/"):null===e||void 0===e?void 0:e.url;X(!0),(0,U.BQ)(p).then((function(l){var p=l.data,h=p.list_columns,x=p.label_columns,Z=p.filters,v=p.add_columns,j=p.edit_columns,_=p.permissions,g=p.description_columns,y=p.add_fieldsets,b=p.edit_fieldsets,k=p.help_url,w=p.order_columns,C=p.action,N=p.route_base,O=p.column_related,M=p.primary_key,T=p.label_title,L=p.cols_width,R=p.import_data,F=p.download_data,D=p.list_ui_type,V=p.list_ui_args,A=p.ops_link,z=p.enable_favorite,B=p.echart,K=p.page_size,q=p.list_title,J=(null===e||void 0===e?void 0:e.related)||_.includes("can_show")||_.includes("can_edit")||_.includes("can_delete"),W=localStorage.getItem("tablebox_".concat(t.pathname)),G=JSON.parse(W||"[]").reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n.dataIndex,n.width))}),{}),$=Object.entries(O||{}).reduce((function(e,n){var t=(0,c.Z)(n,2),l=(t[0],t[1]);return[].concat((0,a.Z)(e),[{dep:l.src_columns,effect:l.des_columns.join(""),effectOption:l.related.reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},pe(n.src_value),n.des_value.map((function(e){return{label:e,value:e}}))))}),{})}])}),[]),Q=h.map((function(e){var n=(x[e]||e).split(":"),t=(0,c.Z)(n,2),r=t[0],i=t[1];return{title:i?(0,S.jsxs)(o.Z,{placement:"top",title:i,children:[r,(0,S.jsx)(I.Z,{})]}):r,dataIndex:e,key:e,sorter:w.includes(e)?function(n,t){return n[e]-t[e]}:void 0,render:function(n,t){var r;if(void 0===n||""===n)return"-";if(L[e]&&-1!==(null===(r=L[e].type)||void 0===r?void 0:r.indexOf("ellip")))return(0,S.jsx)(o.Z,{title:(0,S.jsx)("span",{className:"tips-content",dangerouslySetInnerHTML:{__html:n}}),placement:"topLeft",children:(0,S.jsx)("div",{className:L[e].type,dangerouslySetInnerHTML:{__html:n}})});if("[object Object]"===Object.prototype.toString.call(n)){var i=Object.entries(n).reduce((function(e,n){var t=(0,c.Z)(n,2),r=t[0],i=t[1];return[].concat((0,a.Z)(e),[{label:r,value:i}])}),[]);return i.length?(0,S.jsx)("div",{style:{overflow:"auto",maxHeight:100},children:i.map((function(e,n){return(0,S.jsxs)("div",{children:[x[e.label]||e.label,":",e.value]},"table_itemvalue_".concat(n))}))}):"-"}return(0,S.jsx)("div",{style:{overflow:"auto",maxHeight:100},dangerouslySetInnerHTML:{__html:n}})},width:G[e]||L[e]&&L[e].width||100}})),Y=Object.entries(C||{}).reduce((function(e,n){var t=(0,c.Z)(n,2),r=(t[0],t[1]);return[].concat((0,a.Z)(e),[(0,i.Z)({},r)])}),[]),ee=Y.filter((function(e){return!!e.multiple})),ne=Y.filter((function(e){return!!e.single})),te={title:ca("\u64cd\u4f5c"),width:80,dataIndex:"handle",key:"handle",align:"right",fixed:"right",render:function(a,r){var c;return(0,S.jsx)(s.Z,{size:"middle",children:J?(0,S.jsx)(u.Z,{overlay:(0,S.jsxs)(d.Z,{children:[qt.current&&At.current?(0,S.jsx)(d.Z.Item,{children:(0,S.jsx)("div",{className:"link",onClick:function(){f.Z.confirm({title:ca("\u6536\u85cf"),icon:(0,S.jsx)(P.Z,{}),content:"".concat(ca("\u786e\u5b9a\u6536\u85cf"),"?"),okText:ca("\u786e\u8ba4\u6536\u85cf"),cancelText:ca("\u53d6\u6d88"),onOk:function(){return new Promise((function(e,n){(0,U.gA)("".concat(N,"favorite/").concat(r[M])).then((function(n){e("")})).catch((function(e){n()}))})).then((function(e){m.ZP.success(ca("\u6536\u85cf\u6210\u529f")),pa((0,i.Z)((0,i.Z)({},da),{},{pageConf:Oe,params:Ue.current,paramsMap:Z}))})).catch((function(){m.ZP.error(ca("\u6536\u85cf\u5931\u8d25"))}))},onCancel:function(){}})},children:ca("\u6536\u85cf")})}):null,qt.current&&!At.current?(0,S.jsx)(d.Z.Item,{children:(0,S.jsx)("div",{className:"link",onClick:function(){f.Z.confirm({title:ca("\u53d6\u6d88\u6536\u85cf"),icon:(0,S.jsx)(P.Z,{}),content:"".concat(ca("\u786e\u5b9a\u53d6\u6d88\u6536\u85cf"),"?"),okText:ca("\u786e\u8ba4\u53d6\u6d88\u6536\u85cf"),cancelText:ca("\u53d6\u6d88"),onOk:function(){return new Promise((function(e,n){(0,U.aJ)("".concat(N,"favorite/").concat(r[M])).then((function(n){e("")})).catch((function(e){n()}))})).then((function(e){m.ZP.success(ca("\u64cd\u4f5c\u6210\u529f")),pa((0,i.Z)((0,i.Z)({},da),{},{pageConf:Oe,params:Ue.current,paramsMap:Z}))})).catch((function(){m.ZP.error(ca("\u64cd\u4f5c\u5931\u8d25"))}))},onCancel:function(){}})},children:ca("\u53d6\u6d88\u6536\u85cf")})}):null,_.includes("can_show")?(0,S.jsx)(d.Z.Item,{children:(0,S.jsx)("div",{className:"link",onClick:function(){ge(!0),ha(r[M])},children:ca("\u8be6\u60c5")})}):null,_.includes("can_edit")?(0,S.jsx)(d.Z.Item,{children:(0,S.jsx)("div",{className:"link",onClick:function(){ue(!0),(0,U.BQ)(N,r[M]).then((function(e){var n=e.data,t=n.edit_columns,a=n.label_columns,i=n.description_columns,c=fa(t,a,i),l=b.map((function(e){var n=e.fields.map((function(e){return se[e]})).filter((function(e){return!!e}));return{group:e.group,expanded:e.expanded,config:fa(n,a,i)}}));Xe(c),ln(l),ha(r[M])})).catch((function(){m.ZP.warn(ca("\u7528\u6237\u6ca1\u6709\u4fee\u6539\u6743\u9650"))}))},children:ca("\u4fee\u6539")})}):null,_.includes("can_delete")?(0,S.jsx)(d.Z.Item,{children:(0,S.jsx)("div",{className:"c-fail cp",onClick:function(){f.Z.confirm({title:ca("\u5220\u9664"),icon:(0,S.jsx)(P.Z,{}),content:"".concat(ca("\u786e\u5b9a\u5220\u9664"),"?"),okText:ca("\u786e\u8ba4\u5220\u9664"),cancelText:ca("\u53d6\u6d88"),okButtonProps:{danger:!0},onOk:function(){return new Promise((function(e,n){(0,U.aM)("".concat(N).concat(r[M])).then((function(n){e("")})).catch((function(e){n()}))})).then((function(e){m.ZP.success(ca("\u5220\u9664\u6210\u529f")),pa((0,i.Z)((0,i.Z)({},da),{},{pageConf:Oe,params:Ue.current,paramsMap:Z}))})).catch((function(){m.ZP.error(ca("\u5220\u9664\u5931\u8d25"))}))},onCancel:function(){}})},children:ca("\u5220\u9664")})}):null,null===e||void 0===e||null===(c=e.related)||void 0===c?void 0:c.map((function(e,a){return(0,S.jsx)(d.Z.Item,{children:(0,S.jsx)("div",{className:"link",onClick:function(){n("".concat(t.pathname,"/").concat(e.name,"?id=").concat(r[M]))},children:e.title})},"moreAction_".concat(a))})),!!ne.length&&ne.map((function(e,n){return(0,S.jsx)(d.Z.Item,{children:(0,S.jsx)("div",{className:"link",onClick:function(){f.Z.confirm({title:e.confirmation,icon:(0,S.jsx)(P.Z,{}),content:"",okText:ca("\u786e\u8ba4"),cancelText:ca("\u53d6\u6d88"),onOk:function(){return new Promise((function(n,t){(0,U.y5)("".concat(N,"action/").concat(e.name,"/").concat(r[M])).then((function(e){n(e)})).catch((function(e){t(e)}))})).then((function(e){m.ZP.success(ca("\u64cd\u4f5c\u6210\u529f")),e.data.result.link&&window.open(e.data.result.link,"bank"),pa((0,i.Z)((0,i.Z)({},da),{},{pageConf:Oe,params:Ue.current,paramsMap:Z}))})).catch((function(){m.ZP.error(ca("\u64cd\u4f5c\u5931\u8d25"))}))},onCancel:function(){}})},children:ca("".concat(e.text))})},"table_action_".concat(n))}))]}),children:(0,S.jsxs)("div",{className:"link",children:[ca("\u66f4\u591a"),(0,S.jsx)(E.Z,{})]})}):null})}},ae=(0,a.Z)(Q);J&&ae.push(te);var re=v.reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n.name,n))}),{});if(on&&Object.keys(on).length){var ie=(Object.keys(on)||[]).filter((function(e){return on[e]&&re[e]&&re[e].retry_info})),ce=ie.length;if(ie.length){var le=on;for(var oe in le){if(Object.prototype.hasOwnProperty.call(le,oe))void 0===le[oe]&&delete le[oe]}!function e(n){ce-=1,(0,U.y1)("".concat(N,"_info"),{exist_add_args:n}).then((function(n){var t=n.data,a=t.add_columns,c=t.label_columns,l=t.description_columns,o=t.add_fieldsets,s=a.reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n.name,n))}),{}),u=fa(a,c,l),d=o.map((function(e){var n=e.fields.map((function(e){return s[e]})).filter((function(e){return!!e}));return{group:e.group,expanded:e.expanded,config:fa(n,c,l)}})),f=a.filter((function(e){return""!==e.default})).map((function(e){return(0,r.Z)({},e.name,e.default)})).reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),n)}),{});if(fn(f),We(u),tn(d),ce){var m=JSON.stringify(f);e(m)}})).catch((function(e){m.ZP.error(ca("\u5b57\u6bb5\u5207\u6362\u9519\u8bef"))})).finally((function(){X(!1)}))}(JSON.stringify(le))}}var se=j.reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n.name,n))}),{});j.forEach((function(e){"list"===e["ui-type"]&&e.info.forEach((function(e){se[e.name]=e}))}));var de=fa(v,x,g),fe=y.map((function(e){var n=e.fields.map((function(e){return re[e]})).filter((function(e){return!!e}));return{group:e.group,expanded:e.expanded,config:fa(n,x,g)}})),me=Object.entries(Z).reduce((function(e,n){var t=(0,c.Z)(n,2),r=t[0],i=t[1];return[].concat((0,a.Z)(e),[{name:r,type:i["ui-type"]||"input",title:x[r],oprList:i.filter.map((function(e){return e.operator})),defalutValue:""===i.default?void 0:i.default,option:i.values?i.values.map((function(e){return{label:e.value,value:e.id}})):void 0}])}),[]),he=Object.entries(Z).reduce((function(e,n){var t=(0,c.Z)(n,2),r=t[0],i=t[1];return[].concat((0,a.Z)(e),[{key:r,value:i.default}])}),[]).filter((function(e){return e.value})),xe=JSON.parse(localStorage.getItem("filter_".concat(t.pathname).concat(t.search))||"[]"),Ze=void 0;if((0,H.jS)("filter"))try{Ze=JSON.parse((0,H.jS)("filter")||"[]")}catch(ye){m.ZP.error(ca("filter\u89e3\u6790\u5f02\u5e38"))}var ve,je=Ze||xe;je&&je.length&&(he=je),ra(q),ea(K),$t(B),ve=z,qt.current=ve,Kt(ve),Et(A),Rt(h),St(D),Nt(V),et(F),$n(R),_t(T),xt(M),rt($),ot(ee),function(e){qn.current=e,Kn(e)}(N),xn(se),Fn(Z),Te(ae),De(me),We(de),tn(fe),function(e){gn.current=e,_n(e)}(x),Mn(_);var _e=W?ae.reduce((function(e,n){return e+n.width||100}),0)+80:100*ae.length+80+80;On(_e),An(k),Be(he),pa({pageConf:(0,i.Z)((0,i.Z)({},we),{},{pageSize:K}),params:he,paramsMap:Z,sorter:void 0})})).catch((function(e){console.log(e)})).finally((function(){J(!1),X(!1)}))}),[]);var ma=function(n,t){var r=(0,H.jS)("id");return{filters:[r?{col:null===e||void 0===e?void 0:e.model_name,opr:"rel_o_m",value:+r}:void 0].concat((0,a.Z)(n.filter((function(e){return void 0!==e.value})).map((function(e){for(var n="",a=["rel_o_m","ct","eq"],r=t[e.key].filter.map((function(e){return e.operator}))||[],i=0;i<a.length;i++){var c=a[i];if(r.includes(c)){n=c;break}}return{col:e.key,opr:n,value:e.value}})))).filter((function(e){return!!e}))}},pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pageConf:we,params:Ae,paramsMap:Rn,sorter:void 0,only_favorite:!1},n=e.pageConf,t=e.params,a=e.paramsMap,r=e.sorter,c=e.only_favorite;J(!0);var l=JSON.stringify((0,i.Z)((0,i.Z)({},ma(t,a)),{},{only_favorite:c,str_related:1,page:(n.current||1)-1,page_size:n.pageSize||10},r));(0,U.jm)(qn.current,{form_data:l}).then((function(e){var t=e.data.result,a=t.count,c=t.data;V(c),ke([]),Ie((0,i.Z)((0,i.Z)((0,i.Z)({},we),n),{},{total:a})),ft(r)})).catch((function(e){console.log(e)})).finally((function(){return J(!1)}))},ha=function(e){Ze(!0),kn([]),(0,U.kI)("".concat(qn.current).concat(e)).then((function(e){var n=e.data.result,t=[],a=function(e){return"[object Object]"===Object.prototype.toString.call(e)?e.last_name:e};Object.keys(n).forEach((function(e){t.push({label:gn.current[e]||e,value:a(n[e]),key:e})})),kn(t)})).catch((function(e){})).finally((function(){Ze(!1)}))},xa={name:"csv_file",maxCount:1,action:"".concat(Bn,"upload/"),headers:{authorization:"authorization-text"},beforeUpload:function(e){var n=-1!==e.name.indexOf(".csv"),t=-1!==e.name.indexOf(".xls"),a=-1!==e.name.indexOf(".json"),r=-1!==e.name.indexOf(".xlsx");if(n||a||t||r)return!0;m.ZP.error("\u6587\u4ef6\u683c\u5f0f\u652f\u6301CSV/JSON/XLS/XLSX")},onChange:function(e){"done"===e.file.status?p.Z.success({message:ca("\u5bfc\u5165\u6210\u529f"),description:JSON.stringify(e.file.response)}):"error"===e.file.status&&p.Z.error({message:ca("\u5bfc\u5165\u5931\u8d25"),description:JSON.stringify(e.file.response)})}};return(0,S.jsxs)("div",{className:"fade-in h100 d-f fd-c",children:[(0,S.jsx)(z,{title:"".concat(ca("\u6dfb\u52a0")," ").concat(jt),formData:dn,loading:$,visible:ne,onCancel:function(){te(!1)},onCreate:function(e,n){for(var t in X(!0),e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=e[t];if(Array.isArray(a)){if(a[0]&&"[object Object]"===Object.prototype.toString.call(a[0]))continue;e[t]=e[t].join(",")}}(0,U.P9)(qn.current,e).then((function(e){m.ZP.success("".concat(ca("\u6dfb\u52a0")," ").concat(jt," ").concat(ca("\u6210\u529f"))),n.resetFields(),te(!1),pa((0,i.Z)((0,i.Z)({},da),{},{pageConf:Oe,params:Ae,sorter:dt,paramsMap:Rn}))})).catch((function(e){m.ZP.error("".concat(ca("\u6dfb\u52a0")," ").concat(jt," ").concat(ca("\u5931\u8d25")))})).finally((function(){X(!1)}))},children:function(e,n){return(0,S.jsx)(he,{form:e,onRetryInfoChange:function(n){X(!0);var t=e.getFieldsValue();for(var a in t){if(Object.prototype.hasOwnProperty.call(t,a))void 0===t[a]&&delete t[a]}var c=JSON.stringify(t);e.resetFields(),(0,U.y1)("".concat(qn.current,"_info"),{exist_add_args:c}).then((function(n){var t=n.data,a=t.add_columns,c=t.label_columns,l=t.description_columns,o=t.add_fieldsets,s=a.reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n.name,n))}),{}),u=fa(a,c,l),d=o.map((function(e){var n=e.fields.map((function(e){return s[e]})).filter((function(e){return!!e}));return{group:e.group,expanded:e.expanded,config:fa(n,c,l)}})),f=a.filter((function(e){return""!==e.default})).map((function(e){return(0,r.Z)({},e.name,e.default)})).reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),n)}),{});e.setFieldsValue(f),We(u),tn(d)})).catch((function(e){m.ZP.error(ca("\u5b57\u6bb5\u5207\u6362\u9519\u8bef"))})).finally((function(){X(!1)}))},formChangeRes:n,linkageConfig:at,config:Je,configGroup:nn})}}),(0,S.jsx)(z,{title:"".concat(ca("\u4fee\u6539")," ").concat(jt),formData:Sn.reduce((function(e,n){if("select"===(hn[n.key]||{})["ui-type"]){var t=n.value,a=(hn[n.key]||{}).values||[],c=a.map((function(e){return e.value})).indexOf(n.value);return~c&&(t=a[c].id),(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n.key,t))}if("select2"===(hn[n.key]||{})["ui-type"])return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n.key,(n.value||"").split(",")));if("datePicker"===(hn[n.key]||{})["ui-type"]){var l=n.value;return l=O()(l),(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n.key,l))}if("list"===(hn[n.key]||{})["ui-type"]){var o=(n.value||[]).map((function(e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var t=e[n];"datePicker"===(hn[n]||{})["ui-type"]&&(e[n]=O()(t))}return e}));return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n.key,o))}return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n.key,n.value))}),{}),loading:ie||me,visible:se,onCancel:function(){ue(!1)},onCreate:function(e){for(var n in ce(!0),kn([]),e)if(Object.prototype.hasOwnProperty.call(e,n)){var t=e[n];if(Array.isArray(t)){if(t[0]&&"[object Object]"===Object.prototype.toString.call(t[0]))continue;e[n]=e[n].join(",")}}(0,U.a1)("".concat(qn.current).concat(e[ht]),e).then((function(e){m.ZP.success("".concat(ca("\u66f4\u65b0")," ").concat(jt," ").concat(ca("\u6210\u529f"))),ue(!1),pa((0,i.Z)((0,i.Z)({},da),{},{pageConf:Oe,params:Ae,sorter:dt,paramsMap:Rn}))})).catch((function(e){m.ZP.error("".concat(ca("\u66f4\u65b0")," ").concat(jt," ").concat(ca("\u5931\u8d25")))})).finally((function(){ce(!1)}))},children:function(e){return(0,S.jsx)(he,{form:e,primaryKey:ht,config:Qe,linkageConfig:at,configGroup:cn})}}),(0,S.jsx)(f.Z,{title:"".concat(jt," ").concat(ca("\u8be6\u60c5")),visible:_e,footer:null,width:800,destroyOnClose:!0,onCancel:function(){ge(!1)},children:(0,S.jsx)(h.Z,{spinning:me,children:(0,S.jsx)("div",{className:"pb32",style:{minHeight:300},children:Sn.map((function(e,n){return(0,S.jsxs)(x.Z,{className:"mb16",children:[(0,S.jsx)(Z.Z,{span:6,children:(0,S.jsx)("div",{className:"ta-r",children:(0,S.jsxs)("strong",{children:[e.label,"\uff1a"]})})}),(0,S.jsx)(Z.Z,{span:18,children:(0,S.jsx)("pre",{style:{whiteSpace:"break-spaces"},dangerouslySetInnerHTML:{__html:function(){var n=e.value;if("[object Object]"===Object.prototype.toString.call(e.value)||"[object Array]"===Object.prototype.toString.call(e.value))try{n=JSON.stringify(e.value)}catch(t){}return n}()}})})]},"dataDetail_".concat(n))}))})})}),(0,S.jsx)(w,{title:(0,S.jsxs)(S.Fragment,{children:[null!==e&&void 0!==e&&e.isSubRoute?(0,S.jsxs)(v.Z,{className:"mr16",onClick:function(){window.history.back()},children:[(0,S.jsx)(M.Z,{}),ca("\u8fd4\u56de")]}):null,(0,S.jsx)("span",{children:jt})]}),breadcrumbs:((null===e||void 0===e?void 0:e.breadcrumbs)||[]).map((function(n,t){return(0,S.jsxs)("span",{className:"c-icon-b fs12",children:["/",(0,S.jsx)("span",{className:"plr2",children:n})]},"templateTitle_".concat(null===e||void 0===e?void 0:e.name,"_").concat(t))})),children:Vn?(0,S.jsxs)("div",{className:"link",children:[(0,S.jsx)("span",{className:"pr4",onClick:function(){window.open(Vn,"blank")},children:ca("\u5e2e\u52a9\u94fe\u63a5")}),(0,S.jsx)(T.Z,{})]}):null}),(0,S.jsx)(y.VY,{className:"appmgmt-content bg-title h100 d-f fd-c",children:(0,S.jsxs)("div",{className:"mlr16 mb16 flex1 bg-w",children:[!!Fe.length&&(0,S.jsx)(Q,{values:Ae,params:Fe,onChange:function(e){localStorage.setItem("filter_".concat(t.pathname).concat(t.search),JSON.stringify(e)),Be(e),pa((0,i.Z)((0,i.Z)({},da),{},{pageConf:we,params:e,sorter:dt,paramsMap:Rn}))}}),Gt?(0,S.jsx)(xe.Z,{url:Bn}):null,"card"!==bt?(0,S.jsx)(C.Z,{cancelExportData:!0,tableKey:"tablebox_".concat(t.pathname),titleNode:(0,S.jsx)(Z.Z,{className:"tablebox-title",children:(0,S.jsxs)("div",{className:"d-f ac",children:[(0,S.jsx)("div",{className:"mr8",children:aa||""}),Bt?(0,S.jsx)("div",{className:"pb2",children:(0,S.jsx)(j.Z,{checked:Ht,checkedChildren:ca("\u5168\u90e8"),unCheckedChildren:ca("\u6211\u7684\u6536\u85cf"),defaultChecked:!0,onChange:function(e){var n;n=e,At.current=n,Vt(n),pa((0,i.Z)((0,i.Z)({},da),{},{pageConf:we,params:Ae,sorter:dt,paramsMap:Rn,only_favorite:!e}))}})}):null]})}),buttonNode:(0,S.jsxs)("div",{className:"d-f ac",children:[Pt&&Pt.length?Pt.map((function(e){return(0,S.jsx)(v.Z,{type:"primary",className:"mr16",onClick:function(){window.open(e.url,"bank")},children:e.text})})):null,En.includes("can_add")?(0,S.jsxs)(v.Z,{className:"mr16",type:"primary",onClick:function(){return te(!0)},children:[ca("\u6dfb\u52a0"),jt,(0,S.jsx)(L.Z,{})]}):null,(0,S.jsx)("div",{children:(0,S.jsx)(u.Z,{overlay:(0,S.jsx)(d.Z,{children:lt.map((function(e,n){return(0,S.jsx)(d.Z.Item,{children:(0,S.jsx)("span",{className:"link",onClick:function(){return function(e){Se.length?f.Z.confirm({title:e.confirmation,icon:(0,S.jsx)(P.Z,{}),content:"",okText:ca("\u786e\u8ba4"),cancelText:ca("\u53d6\u6d88"),onOk:function(){return new Promise((function(n,t){(0,U.Eb)("".concat(qn.current,"multi_action/").concat(e.name),{ids:Se.map((function(e){return JSON.parse(e||"{}")[ht]}))}).then((function(e){n("")})).catch((function(e){t()}))})).then((function(e){m.ZP.success(ca("\u64cd\u4f5c\u6210\u529f")),pa((0,i.Z)((0,i.Z)({},da),{},{pageConf:Oe,params:Ae,sorter:dt,paramsMap:Rn}))})).catch((function(){m.ZP.error(ca("\u64cd\u4f5c\u5931\u8d25"))}))},onCancel:function(){}}):m.ZP.warn(ca("\u8bf7\u5148\u9009\u62e9"))}(e)},children:"".concat(ca("\u6279\u91cf")," ").concat(e.text)})},"table_muliple_".concat(n))}))}),children:(0,S.jsxs)(v.Z,{children:[ca("\u6279\u91cf\u64cd\u4f5c")," ",(0,S.jsx)(E.Z,{})]})})}),Gn?(0,S.jsx)("div",{className:"d-f ml16",children:(0,S.jsx)(o.Z,{color:"#fff",title:(0,S.jsxs)("span",{className:"tips-content-b",children:[(0,S.jsxs)("div",{children:[ca("\u6ce8\u610f\uff1acsv\u9017\u53f7\u5206\u9694"),"\uff0c"]}),(0,S.jsx)("div",{children:ca("\u7b2c\u4e00\u884c\u4e3a\u5217\u7684\u82f1\u6587\u540d")})," ",(0,S.jsx)("div",{className:"link",onClick:function(){window.open("".concat(window.location.origin).concat(qn.current,"download_template"))},children:ca("\u4e0b\u8f7d\u5bfc\u5165\u6a21\u677f")})]}),placement:"topLeft",children:(0,S.jsx)(_.Z,(0,i.Z)((0,i.Z)({},xa),{},{children:(0,S.jsx)(v.Z,{className:"",icon:(0,S.jsx)(R.Z,{}),children:ca("\u6279\u91cf\u5bfc\u5165\u6570\u636e")})}))})}):null,Yn?(0,S.jsxs)(v.Z,{className:"ml16",onClick:function(){f.Z.confirm({title:ca("\u5bfc\u51fa\u6570\u636e"),icon:(0,S.jsx)(P.Z,{}),content:"",okText:ca("\u786e\u8ba4\u5bfc\u51fa\u6570\u636e"),cancelText:ca("\u53d6\u6d88"),onOk:function(){var e=ma(Ae,Rn),n=JSON.stringify(e);window.open("".concat(window.location.origin).concat(qn.current,"download?form_data=").concat(n)),m.ZP.success(ca("\u5bfc\u51fa\u6210\u529f"))},onCancel:function(){}})},children:[ca("\u6279\u91cf\u5bfc\u51fa"),"  ",(0,S.jsx)(F.Z,{})]}):null]}),rowKey:function(e){return JSON.stringify(e)},columns:Me,loading:q,pagination:Oe,dataSource:N,onChange:function(e,n,t){var a=t.order?{order_column:t.columnKey,order_direction:"ascend"===t.order?"asc":"desc"}:void 0;pa((0,i.Z)((0,i.Z)({},da),{},{pageConf:e,params:Ae,paramsMap:Rn,sorter:a}))},rowSelection:{type:"checkbox",fixed:"left",columnWidth:32,selectedRowKeys:Se,onChange:function(e){ke(e)}},scroll:{x:Nn,y:sa}}):(0,S.jsxs)("div",{className:"bg-w p16",children:[(0,S.jsx)("div",{className:"d-f fw",children:N.map((function(e,n){return(0,S.jsx)("div",{style:{overflowY:"auto",width:null===Ct||void 0===Ct?void 0:Ct.card_width,height:null===Ct||void 0===Ct?void 0:Ct.card_height},className:"card-row mr16 mb16",children:Object.keys(e).map((function(t,a){return Lt.includes(t)?(0,S.jsx)("div",{style:{wordBreak:"break-all"},dangerouslySetInnerHTML:{__html:e[t]}},"row".concat(n).concat(a)):null}))},"card".concat(n))}))}),(0,S.jsx)("div",{className:"ta-r",children:(0,S.jsx)(g.Z,(0,i.Z)((0,i.Z)({},Oe),{},{onChange:function(e,n){pa((0,i.Z)((0,i.Z)({},da),{},{pageConf:(0,i.Z)((0,i.Z)({},Oe),{},{current:e,pageSize:n}),params:Ae,paramsMap:Rn}))}}))})]})]})})]})}},4269:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return ChartOptionTempalte}});var _home_myapp_myapp_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(29439),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4519),_api_kubeflowApi__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30506),_components_EchartCore_EchartCore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(54189),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2556);function ChartOptionTempalte(props){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),_useState2=(0,_home_myapp_myapp_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState,2),option=_useState2[0],setOption=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),_useState4=(0,_home_myapp_myapp_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){props.url&&(0,_api_kubeflowApi__WEBPACK_IMPORTED_MODULE_1__.VL)("".concat(props.url,"echart"),{}).then((function(res){var option=res.data.result,currentOps={};eval("currentOps=".concat(option)),setOption(currentOps)})).catch((function(e){})).finally((function(){setLoading(!1)}))}),[props.url]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components_EchartCore_EchartCore__WEBPACK_IMPORTED_MODULE_2__.Z,{option:option,loading:loading})}}}]);
//# sourceMappingURL=217.7ef4302e.chunk.js.map